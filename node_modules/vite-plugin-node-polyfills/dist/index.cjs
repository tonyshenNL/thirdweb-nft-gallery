"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const f=require("node:module"),p=require("@rollup/plugin-inject"),a=require("node-stdlib-browser"),b=require("node-stdlib-browser/helpers/rollup/plugin"),g=require("node-stdlib-browser/helpers/esbuild/plugin"),i=e=>e&&e.__esModule?e:{default:e},m=i(p),_=i(a),h=i(g),q=e=>e.startsWith("node:"),v=(e={})=>{const t=f.createRequire(typeof document>"u"?new(require("url")).URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("index.cjs",document.baseURI).href).resolve("node-stdlib-browser/helpers/esbuild/shim"),u={exclude:[],protocolImports:!0,...e},d=s=>u.exclude.some(n=>s===n||s===`node:${n}`);return{name:"vite-plugin-node-polyfills",config:(s,n)=>{const c=Object.entries(_.default).reduce((r,[o,l])=>(!u.protocolImports&&q(o)||d(o)||(r[o]=l),r),{});return{build:{rollupOptions:{onwarn:(r,o)=>{b.handleCircularDependancyWarning(r,o)},plugins:[{...m.default({global:[t,"global"],process:[t,"process"],Buffer:[t,"Buffer"]})}]}},optimizeDeps:{esbuildOptions:{define:{Buffer:"Buffer",global:"global",process:"process"},inject:[t],plugins:[h.default(c),{name:"vite-plugin-node-polyfills-shims-resolver",setup(r){const o=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),l=new RegExp(`^${o}$`);r.onResolve({filter:l},()=>({external:!1,path:t}))}}]}},resolve:{alias:{...c}}}}}};exports.nodePolyfills=v;
//# sourceMappingURL=index.cjs.map
